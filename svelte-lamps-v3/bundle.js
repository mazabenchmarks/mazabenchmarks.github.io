var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function f(){return s(" ")}function d(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function p(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){(null!=e||t.value)&&(t.value=e)}let $;function g(t){$=t}const v=[],y=[],b=[],x=[],_=Promise.resolve();let T=!1;function w(t){b.push(t)}function k(){const t=new Set;do{for(;v.length;){const t=v.shift();g(t),q(t.$$)}for(;y.length;)y.pop()();for(let e=0;e<b.length;e+=1){const n=b[e];t.has(n)||(n(),t.add(n))}b.length=0}while(v.length);for(;x.length;)x.pop()();T=!1}function q(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(w))}const E=new Set;function j(t,e){t.$$.dirty||(v.push(t),T||(T=!0,_.then(k)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function C(i,l,c,u,a,s){const f=$;g(i);const d=l.props||{},p=i.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:null};let m=!1;var h,v,y;p.ctx=c?c(i,d,(t,e,n=e)=>(p.ctx&&a(p.ctx[t],p.ctx[t]=n)&&(p.bound[t]&&p.bound[t](n),m&&j(i,t)),e)):d,p.update(),m=!0,r(p.before_update),p.fragment=u(p.ctx),l.target&&(l.hydrate?p.fragment.l((y=l.target,Array.from(y.childNodes))):p.fragment.c(),l.intro&&((h=i.$$.fragment)&&h.i&&(E.delete(h),h.i(v))),function(t,n,i){const{fragment:l,on_mount:c,on_destroy:u,after_update:a}=t.$$;l.m(n,i),w(()=>{const n=c.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]}),a.forEach(w)}(i,l.target,l.anchor),k()),g(f)}class L{$destroy(){var e,n;n=1,(e=this).$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function O(t,e,n){const r=Object.create(t);return r.item=e[n],r}function A(t){var e,n,r,o,i,h=t.item[1]+"",$=t.item[2]+"";function g(){return t.click_handler(t)}return{c(){e=a("div"),n=s(h),r=f(),o=s($),p(e,"class","sidebar-item svelte-y7qnob"),i=d(e,"click",g)},m(t,i){c(t,e,i),l(e,n),l(e,r),l(e,o)},p(e,r){t=r,e.filtered&&h!==(h=t.item[1]+"")&&m(n,h),e.filtered&&$!==($=t.item[2]+"")&&m(o,$)},d(t){t&&u(e),i()}}}function N(t){var e,n,r,o,i,d,h,$,g,v,y,b,x,_,T=t.item[1]+"",w=t.item[2]+"";return{c(){e=a("div"),n=a("span"),r=s("Brand: "),o=s(T),i=f(),d=a("br"),h=f(),$=a("span"),g=s("Model: "),v=s(w),y=f(),b=a("div"),p(x=a("img"),"src",_="http://lamptest.ru/images/photo/"+t.item[52]+".jpg"),p(x,"class","svelte-y7qnob")},m(t,u){c(t,e,u),l(e,n),l(n,r),l(n,o),l(e,i),l(e,d),l(e,h),l(e,$),l($,g),l($,v),l(e,y),l(e,b),l(b,x)},p(t,e){t.item&&T!==(T=e.item[1]+"")&&m(o,T),t.item&&w!==(w=e.item[2]+"")&&m(v,w),t.item&&_!==(_="http://lamptest.ru/images/photo/"+e.item[52]+".jpg")&&p(x,"src",_)},d(t){t&&u(e)}}}function B(e){var n,r,o,i,s,m,$,g,v;let y=e.filtered,b=[];for(let t=0;t<y.length;t+=1)b[t]=A(O(e,y,t));var x=e.item&&N(e);return{c(){n=a("main"),r=a("div"),o=a("div"),i=a("div"),s=a("input"),m=f();for(let t=0;t<b.length;t+=1)b[t].c();$=f(),g=a("div"),x&&x.c(),p(s,"placeholder","Filter"),p(o,"class","sidebar svelte-y7qnob"),p(g,"class","content svelte-y7qnob"),p(r,"class","table svelte-y7qnob"),p(n,"class","svelte-y7qnob"),v=d(s,"input",e.input_input_handler)},m(t,u){c(t,n,u),l(n,r),l(r,o),l(o,i),l(i,s),h(s,e.filterText),l(o,m);for(let t=0;t<b.length;t+=1)b[t].m(o,null);l(r,$),l(r,g),x&&x.m(g,null)},p(t,e){if(t.filterText&&s.value!==e.filterText&&h(s,e.filterText),t.filtered){let n;for(y=e.filtered,n=0;n<y.length;n+=1){const r=O(e,y,n);b[n]?b[n].p(t,r):(b[n]=A(r),b[n].c(),b[n].m(o,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=y.length}e.item?x?x.p(t,e):((x=N(e)).c(),x.m(g,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&u(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(b,t),x&&x.d(),v()}}}function M(t,e,n){const r=new Headers;r.append("Content-Type","text/csv; charset=windows-1251");let o=[],i=!1,l="";fetch("https://lamptest.ru/led.php",r).then(t=>t.text()).then(t=>{n("items",o=t.split("\n").map(t=>t.split(";")).slice(1))});const c=t=>{console.log(t),n("item",i=t)};let u;return t.$$.update=((t={items:1,filterText:1})=>{(t.items||t.filterText)&&n("filtered",u=o.filter(t=>-1!==(t[1]+" "+t[2]).toLocaleLowerCase().indexOf(l)))}),{item:i,filterText:l,handleClick:c,filtered:u,input_input_handler:function(){l=this.value,n("filterText",l)},click_handler:({item:t})=>c(t)}}return new class extends L{constructor(t){super(),C(this,t,M,B,i,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
